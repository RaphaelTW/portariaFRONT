<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" dir="ltr"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content="Via Expressa"/>

    <title>Cadastro Pré-Alertas</title>
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.css"
          rel="stylesheet"/>
    <!-- Bootstrap Icones -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          rel="stylesheet"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
          rel="stylesheet"/>
    <!-- [Style da Tela]-->
    <link rel="stylesheet" href="css/logisticaCadastroPreAlerta.css"/>
    <!-- [Logo Via na Aba do Navegador]-->
    <link rel="icon" href="img/favicon.png"/>
</head>

<body>

<div class="container d-flex flex-column p-2 justify-content-center align-items-center col-md-12 mb-4 mb-md-0">
    <form action="cadastroPreAlertas.php" method="post" id="formCadastro" class="was-validated" novalidate>
        <div class="row justify-content-center">
            <div class="col">
                <?php if (isset($_GET['status']) && $_GET['status'] === 'sucesso'): ?>
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    Pré-alerta cadastrado com <strong>sucesso!</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                <?php elseif (isset($_GET['status']) && $_GET['status'] === 'erro'): ?>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    Ocorreu um <strong>erro</strong> ao cadastrar o seu pré-alerta!
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                <?php endif ?>
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col-2">
                <label class="form-check-label">Tipo de operação</label>
            </div>
            <div class="col btn-group" role="group">
                <input type="radio" class="btn-check" name="btn_operacao" id="btn_retirada" value="Retirada"
                       autocomplete="off" checked>
                <label class="btn btn-outline-secondary" for="btn_retirada">Retirada</label>

                <input type="radio" class="btn-check" name="btn_operacao" id="btn_coleta" value="Coleta"
                       autocomplete="off">
                <label class="btn btn-outline-secondary" for="btn_coleta">Coleta</label>

                <input type="radio" class="btn-check" name="btn_operacao" id="btn_entrega" value="Entrega"
                       autocomplete="off">
                <label class="btn btn-outline-secondary" for="btn_entrega">Entrega</label>

                <input type="radio" class="btn-check" name="btn_operacao" id="btn_devolucao" value="Devolução"
                       autocomplete="off">
                <label class="btn btn-outline-secondary" for="btn_devolucao">Devolução</label>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-3 mb-1">
                <label for="empresa" class="form-label">Empresa solicitante *</label>
                <input type="text" name="empresa" id="empresa" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label for="pessoa" class="form-label">Pessoa solicitante *</label>
                <input type="text" name="pessoa" id="pessoa" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label for="transportadora" class="form-label">Transportadora *</label>
                <input type="text" name="transportadora" id="transportadora" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label for="data_da_operacao" class="form-label">Data da operação *</label>
                <input type="datetime-local" name="data_da_operacao" id="data_da_operacao"
                       class="form-control"
                       required>
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col-md-3">
                <label for="motorista" class="form-label">Motorista *</label>
                <input type="text" name="motorista" id="motorista" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label for="cpf_motorista" class="form-label">CPF *</label>
                <div class="input-group">
                    <input type="text" placeholder="XXX.XXX.XXX-XX" maxlength="14" name="cpf_motorista"
                           id="cpf_motorista"
                           class="form-control" required>
                    <button class="btn btn-secondary" type="button" id="btn_cpf"><i class="bi bi-search"></i></button>
                </div>
            </div>
            <div class="col-md-3">
                <label for="rg_motorista" class="form-label">RG *</label>
                <input type="text" placeholder="XX.XXX.XXX-X" maxlength="17" name="rg_motorista" id="rg_motorista"
                       class="form-control" autocomplete="off" required>
            </div>
            <div class="col-md-3">
                <label class="form-label" for="cnh_motorista">CNH *</label>
                <input type="text" placeholder="XXXXXXXXXXX" maxlength="11" class="form-control"
                       name="cnh_motorista" id="cnh_motorista">
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col-md-5">
                <label class="form-label" for="veiculo">Veículo *</label>
                <div class="input-group">
                    <select class="form-select" name="veiculo" id="veiculo" required></select>
                    <button class="btn btn-secondary" type="button" id="btn_adicionar_veiculo"
                            name="btn_adicionar_veiculo"><i class="bi bi-plus-lg"></i></button>
                </div>
            </div>
            <div class="col-md-2">
                <label class="form-label" for="cor_do_veiculo">Cor *</label>
                <input type="text" class="form-control" name="cor_do_veiculo" id="cor_do_veiculo" required>
            </div>
            <div class="col-md-2">
                <label class="form-label" for="placa">Placa *</label>
                <input type="text" placeholder="XXX-XXXX" maxlength="8" class="form-control" name="placa"
                       id="placa" required>
            </div>
            <div class="col-md-2">
                <label class="form-label" for="segunda_placa">2ª Placa (Carreta)</label>
                <input type="text" placeholder="XXX-XXXX" maxlength="8" class="form-control"
                       name="segunda_placa" id="segunda_placa">
            </div>
            <div class="col-md-1">
                <label class="form-label" for="doca">Doca *</label>
                <input type="text" class="form-control" name="doca" id="doca" required>
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col-md-4">
                <label class="form-label" for="ajudante">Ajudante</label>
                <input type="text" name="ajudante" class="form-control" id="ajudante">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="cpf_ajudante">CPF</label>
                <input type="text" placeholder="XXX.XXX.XXX-XX" maxlength="14" name="cpf_ajudante"
                       class="form-control" id="cpf_ajudante">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="rg_ajudante">RG</label>
                <input type="text" placeholder="XX.XXX.XXX-X" maxlength="17" name="rg_ajudante"
                       class="form-control" id="rg_ajudante">
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col-md-4">
                <label class="form-label" for="ajudante2">Ajudante 2</label>
                <input type="text" name="ajudante2" class="form-control" id="ajudante2">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="cpf_ajudante2">CPF Ajudante 2</label>
                <input type="text" placeholder="XXX.XXX.XXX-XX" maxlength="14" name="cpf_ajudante2"
                       class="form-control" id="cpf_ajudante2">
            </div>
            <div class="col-md-4">
                <label class="form-label" for="rg_ajudante2">RG Ajudante 2</label>
                <input type="text" placeholder="XX.XXX.XXX-X" maxlength="17" name="rg_ajudante2"
                       class="form-control" id="rg_ajudante2">
            </div>
        </div>
        <div class="row mb-3 justify-content-center">
            <div class="col">
                <button class="btn btn-secondary" type="submit" id="btn_cadastrar" name="btn_cadastrar"
                        onclick="validarCPF()">Cadastrar
                </button>
            </div>
        </div>
    </form>
</div>
<!-- Modal para inserção de novos veículos no banco de dados -->
<div class="modal fade" id="modal_add_veiculos" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Adicionar veículo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-10">
                    <label class="col-2 col-form-label" for="add_veiculo">Veículo</label>
                        <input class="form-control" type="text" name="add_veiculo" id="add_veiculo">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="btn_add_veiculo" class="btn btn-primary" onclick="adicionarVeiculo()">
                    Adicionar
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal com a mensagem de erro para a validação de CPF -->
<div class="modal" id="modal_validacao_cpf" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <button style="right:0;margin-right:15px;position:absolute;" type="button" class="btn-close"
                        data-bs-dismiss="modal"></button>
                <img class="d-block m-auto" src="img/erro.png" width="350" height="350">
                <h3 id="modal_texto_erro" class="text-center fw-bold"></h3>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal para a inserção do CPF -->
<div id="modal_cpf" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header"><h5 class="modal-title">Insira o CPF</h5></div>
            <div class="modal-body">
                <div class="row">

                    <div class="col-11">
                        <label class="col-1 col-form-label" for="cpf">CPF</label>
                        <input class="form-control" type="text" placeholder="XXX.XXX.XXX-XX" maxlength="14" name="cpf"
                               id="cpf">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="btn_modal_cpf" class="btn btn-secondary">Pesquisar</button>
            </div>
        </div>
    </div>
</div>

<!-- MDB -->
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.js"></script>
<!-- Bootstrap PooperJS -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<!-- Bootstrap Mim Copilado -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
        integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
        crossorigin="anonymous"></script>
<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
</body>
</html>